(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[14],{1036:function(e,t,a){"use strict";a.r(t);var l=a("7a23");const i=Object(l["l"])("label",{class:"text-h6"},"Transport Activities",-1),c={class:"flex justify-end tw-w-full tw-mt-5 sm:tw-mt-0 sm:tw-w-auto"};function o(e,t,a,o,r,n){const s=Object(l["K"])("BaseButton"),d=Object(l["K"])("q-space"),b=Object(l["K"])("q-icon"),u=Object(l["K"])("BaseInput"),m=Object(l["K"])("q-td"),p=Object(l["K"])("q-table"),v=Object(l["K"])("q-page");return Object(l["C"])(),Object(l["h"])(v,{padding:""},{default:Object(l["T"])((()=>[Object(l["l"])(p,{title:"Activitys",rows:e.items,columns:e.columns,color:"primary","row-key":"name",loading:e.loading,"rows-per-page-options":[0],"hide-pagination":""},{top:Object(l["T"])((()=>[i,Object(l["l"])(s,{class:"q-ml-md tw-absolute sm:tw-relative tw-top-0 tw-right-0 tw-mt-2 tw-mr-2 sm:tw-mt-0 sm:tw-mr-0",round:"",color:"primary",icon:"add",onClick:t[1]||(t[1]=t=>e.router.push({name:"CreateActivityTransport"}))}),Object(l["l"])(d),Object(l["l"])("div",c,[Object(l["l"])(u,{label:"Search",modelValue:e.search,"onUpdate:modelValue":t[2]||(t[2]=t=>e.search=t),clearable:"",class:"tw-w-full sm:tw-w-auto"},{append:Object(l["T"])((()=>[Object(l["l"])(b,{name:"search"})])),_:1},8,["modelValue"])])])),"body-cell-icon":Object(l["T"])((t=>[Object(l["l"])(m,{key:"icon",props:t},{default:Object(l["T"])((()=>[Object(l["l"])(b,{class:"q-mr-sm",name:"edit",color:"teal",style:{"font-size":"20px",cursor:"pointer"},onClick:a=>e.edit(t.row)},null,8,["onClick"]),Object(l["l"])(b,{name:"delete",color:"negative",style:{"font-size":"20px",cursor:"pointer"},onClick:a=>e.remove(t.row)},null,8,["onClick"])])),_:2},1032,["props"])])),_:1},8,["rows","columns","loading"])])),_:1})}var r=a("b64a"),n=a("6c02"),s=a("1840"),d=a("7d9c"),b=a("7b9e"),u=a("b3fe"),m=a("749b"),p=a("5c8a"),v=a("97be");const j=[{label:"Name",field:"name",align:"left"},{label:"Destination",align:"left",field:e=>{var t;return null===(t=e.destination)||void 0===t?void 0:t.name}},{label:"Car Cost",align:"left",field:"carCost"},{label:"Person per Car",field:"personPerCar",align:"left"},{name:"icon",label:"",field:"",align:"right"}];var O=Object(l["m"])({setup(){const e=Object(n["d"])(),t=Object(u["a"])();let{list:a,activitiesTransport:l,variablesListQuery:i}=Object(r["a"])(),{loading:c,search:o}=a();const{mutate:O,onError:w,onDone:y}=Object(s["d"])(d["deleteActivityMutation"],(()=>({update:(e,{data:{deleteActivity:{activity:{id:t}}}})=>{let a=e.readQuery({query:d["listActivityQuery"],variables:i.value});a&&(l.value=a.listActivities.filter((e=>e.id!=t)),e.writeQuery({query:d["listActivityQuery"],data:{listActivities:l.value},variables:i.value}))}})));return w((e=>{Object(b["b"])(e)})),y((()=>{Object(b["c"])({message:"The activity have been deleted."})})),{items:l,columns:j,loading:c,router:e,deleteActivity:O,search:o,truncate:m["a"],format:v["a"],edit(t){const{item:a}=Object(r["a"])();a.value=Object(p["a"])(t),e.push({name:"EditActivityTransport",params:{id:t._id}})},remove(e){t.dialog({title:"Confirm",message:"Would you like to delete this activity?",cancel:!0,persistent:!0}).onOk((()=>{O({input:{id:e.id}})}))}}}}),w=a("9989"),y=a("eaac"),f=a("2c91"),g=a("0016"),h=a("db86"),C=a("eebe"),T=a.n(C);O.render=o;t["default"]=O;T()(O,"components",{QPage:w["a"],QTable:y["a"],QSpace:f["a"],QIcon:g["a"],QTd:h["a"]})}}]);