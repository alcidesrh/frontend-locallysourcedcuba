(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[29],{"096f":function(e,t,o){"use strict";o.r(t);var a=o("7a23");const l=Object(a["l"])("label",{class:"text-h6"},"Room Types",-1),n={class:"tw-flex tw-justify-items-end tw-items-center tw-w-full tw-mt-5 sm:tw-mt-0 sm:tw-w-auto"};function u(e,t,o,u,s,c){const i=Object(a["K"])("q-space"),r=Object(a["K"])("BaseInput"),m=Object(a["K"])("BaseButton"),d=Object(a["K"])("q-form"),b=Object(a["K"])("q-td"),p=Object(a["K"])("q-icon"),O=Object(a["K"])("q-tr"),j=Object(a["K"])("BaseTable"),y=Object(a["K"])("q-page");return Object(a["C"])(),Object(a["h"])(y,{padding:""},{default:Object(a["T"])((()=>[Object(a["l"])(j,{title:"Room Types",columns:e.columns,rows:e.items,loading:e.loading,"rows-per-page-options":[0],"hide-pagination":""},{top:Object(a["T"])((()=>[l,Object(a["l"])(i),Object(a["l"])(d,{onSubmit:e.onSubmit,ref:"formRef"},{default:Object(a["T"])((()=>[Object(a["l"])("div",n,[Object(a["l"])(r,{label:"Name",modelValue:e.item.name,"onUpdate:modelValue":t[1]||(t[1]=t=>e.item.name=t),clearable:"",class:"tw-w-full sm:tw-w-auto tw-mr-2",validate:""},null,8,["modelValue"]),Object(a["l"])("div",null,[Object(a["l"])(m,{loading:e.loading,round:"",color:"primary",icon:"add",type:"submit"},null,8,["loading"])])])])),_:1},8,["onSubmit"])])),body:Object(a["T"])((t=>[Object(a["l"])(O,{props:t},{default:Object(a["T"])((()=>[Object(a["l"])(b,{key:"name",props:t},{default:Object(a["T"])((()=>[Object(a["k"])(Object(a["O"])(t.row.name),1)])),_:2},1032,["props"]),Object(a["l"])(b,{key:"icon",props:t},{default:Object(a["T"])((()=>[Object(a["l"])(p,{class:"q-mr-sm",name:"edit",color:"teal",style:{"font-size":"20px",cursor:"pointer"},onClick:o=>e.edit(t.row)},null,8,["onClick"]),Object(a["l"])(p,{name:"delete",color:"negative",style:{"font-size":"20px",cursor:"pointer"},onClick:o=>e.remove(t.row)},null,8,["onClick"])])),_:2},1032,["props"])])),_:2},1032,["props"])])),_:1},8,["columns","rows","loading"])])),_:1})}var s=o("cb71"),c=o("1840"),i=o("a92b"),r=o("7b9e");const m=[{name:"name",label:"Name",field:"name",align:"left"},{name:"icon",label:"",field:"",align:"right"}];var d=Object(a["m"])({setup(){let{list:e,items:t,item:o}=Object(s["a"])(),{loading:l}=e();const{mutate:n,onError:u,onDone:d}=Object(c["d"])(i["deleteHouseRoomTypeMutation"],(()=>({update:(e,{data:{deleteHouseRoomType:{houseHouseRoomType:{id:o}}}})=>{let a=e.readQuery({query:i["listHouseRoomTypeQuery"]});a&&(t.value=a.houseRoomType.filter((e=>e.id!=o)),e.writeQuery({query:i["listHouseRoomTypeQuery"],data:{houseRoomType:t.value}}))}})));u((e=>{Object(r["b"])(e)})),d((()=>{Object(r["c"])({message:"The item have been deleted."})}));const{mutate:b,loading:p,onError:O,onDone:j}=Object(c["d"])(i["createHouseRoomTypeMutation"],(()=>({update:(e,{data:{createHouseRoomType:{houseHouseRoomType:t}}})=>{const a=Object.assign(Object.assign({},t),o.value),l=e.readQuery({query:i["listHouseRoomTypeQuery"]});e.writeQuery({query:i["listHouseRoomTypeQuery"],data:{houseRoomType:[...(null===l||void 0===l?void 0:l.houseRoomType)||[],a]}})}})));O((e=>{Object(r["b"])(e)})),j((()=>{o.value={},v.value.resetValidation()}));const{mutate:y,onError:T,onDone:f,loading:w}=Object(c["d"])(i["updateHouseRoomTypeMutation"],(()=>({update:e=>{const o=e.readQuery({query:i["listHouseRoomTypeQuery"]});o&&(t.value=o.houseRoomType)}})));T((e=>{Object(r["b"])(e)})),f((()=>{o.value={},v.value.resetValidation()}));const v=Object(a["H"])({});return{items:t,item:o,columns:m,deleteHouseRoomType:n,loading:Object(a["f"])((()=>l.value||p.value||w)),formRef:v,onSubmit(){if("undefined"==typeof o.value.id)b({input:o.value});else{const e=Object.assign({},o.value);delete e.__typename,y({input:e})}},edit(e){o.value=Object.assign({},e)},remove(e){Object(r["a"])().onOk((()=>{n({input:{id:e.id}})}))}}}}),b=o("9989"),p=o("2c91"),O=o("0378"),j=o("bd08"),y=o("db86"),T=o("0016"),f=o("eebe"),w=o.n(f);d.render=u;t["default"]=d;w()(d,"components",{QPage:b["a"],QSpace:p["a"],QForm:O["a"],QTr:j["a"],QTd:y["a"],QIcon:T["a"]})}}]);