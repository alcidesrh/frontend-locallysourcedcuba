(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[34],{"96e4":function(e,a,t){"use strict";t.r(a);var o=t("7a23");function n(e,a,t,n,l,i){const c=Object(o["K"])("q-icon"),s=Object(o["K"])("q-td"),r=Object(o["K"])("BaseTable"),u=Object(o["K"])("q-page");return Object(o["C"])(),Object(o["h"])(u,{padding:""},{default:Object(o["T"])((()=>[Object(o["l"])(r,{title:"Locations",rows:e.items,columns:e.columns,color:"primary",loading:e.loading,pagination:e.pagination,"onUpdate:pagination":a[1]||(a[1]=a=>e.pagination=a),onRequest:e.onRequest,createRoute:"CreateLocation",search:e.search,"onUpdate:search":a[2]||(a[2]=a=>e.search=a)},{"body-cell-icon":Object(o["T"])((a=>[Object(o["l"])(s,{key:"icon",props:a},{default:Object(o["T"])((()=>[Object(o["l"])(c,{class:"q-mr-sm",name:"edit",color:"teal",style:{"font-size":"20px",cursor:"pointer"},onClick:t=>e.edit(a.row)},null,8,["onClick"]),Object(o["l"])(c,{name:"delete",color:"negative",style:{"font-size":"20px",cursor:"pointer"},onClick:t=>e.remove(a.row)},null,8,["onClick"])])),_:2},1032,["props"])])),_:1},8,["rows","columns","loading","pagination","onRequest","search"])])),_:1})}var l=t("2d7d"),i=t("6c02"),c=t("1840"),s=t("ff99"),r=t("7b9e"),u=t("b3fe");const d=[{required:!0,label:"Name",align:"left",field:"name",sortable:!0},{name:"icon",label:"",field:"",align:"right"}];var g=Object(o["m"])({setup(){const e=Object(i["d"])(),a=Object(u["a"])();let{list:t,items:o,sortBy:n,variablesListQuery:g}=Object(l["a"])(),{pagination:b,loading:p,search:v}=t();const m=a.localStorage.getItem("locationRowsPerPage");m&&(b.value.rowsPerPage=m);const{mutate:O,onError:j,onDone:w}=Object(c["d"])(s["deleteLocationMutation"],(()=>({update:(e,{data:{deleteLocation:{location:{id:a}}}})=>{let t=e.readQuery({query:s["listLocationQuery"],variables:g.value});t&&(o.value=t.listLocations.collection.filter((e=>e.id!=a)),e.writeQuery({query:s["listLocationQuery"],data:{listLocations:{collection:o.value}},variables:g.value}))}})));return j((e=>{Object(r["b"])(e)})),w((()=>{Object(r["c"])({message:"The location have been deleted."})})),{items:o,columns:d,loading:p,pagination:b,router:e,deleteLocation:O,search:v,onRequest(e){const{page:t,rowsPerPage:o,sortBy:l,descending:i}=e.pagination;b.value.descending!=i?i?n.value&&"ASC"==n.value[0].name&&(n.value=[{name:"DESC"}]):n.value||(n.value=[{name:"ASC"}]):b.value.page==t&&b.value.descending==i==1&&o==b.value.rowsPerPage&&(n.value=null),o!=b.value.rowsPerPage&&a.localStorage.set("locationRowsPerPage",o),b.value.page=b.value.rowsPerPage!=o?1:t,b.value.rowsPerPage=0==o?1e5:o,b.value.sortBy=l,b.value.descending=i},edit(a){const{item:t}=Object(l["a"])();t.value=Object.assign({},a),e.push({name:"EditLocation",params:{id:a._id}})},remove(e){a.dialog({title:"Confirm",message:"Would you like to delete this location?",cancel:!0,persistent:!0}).onOk((()=>{O({input:{id:e.id}})}))}}}}),b=t("9989"),p=t("db86"),v=t("0016"),m=t("eebe"),O=t.n(m);g.render=n;a["default"]=g;O()(g,"components",{QPage:b["a"],QTd:p["a"],QIcon:v["a"]})}}]);