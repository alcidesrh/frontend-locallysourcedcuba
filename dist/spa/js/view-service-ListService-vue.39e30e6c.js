(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[46],{f6ce:function(e,t,i){"use strict";i.r(t);var o=i("7a23");function a(e,t,i,a,c,n){const l=Object(o["K"])("q-icon"),r=Object(o["K"])("q-td"),s=Object(o["K"])("BaseTable"),d=Object(o["K"])("q-page");return Object(o["C"])(),Object(o["h"])(d,{padding:""},{default:Object(o["T"])((()=>[Object(o["l"])(s,{title:"Services",columns:e.columns,rows:e.items,loading:e.loading,"rows-per-page-options":[0],"hide-pagination":"",createRoute:"CreateService"},{"body-cell-icon":Object(o["T"])((t=>[Object(o["l"])(r,{key:"icon",props:t},{default:Object(o["T"])((()=>[Object(o["l"])(l,{class:"q-mr-sm",name:"edit",color:"teal",style:{"font-size":"20px",cursor:"pointer"},onClick:i=>e.edit(t.row)},null,8,["onClick"]),Object(o["l"])(l,{name:"delete",color:"negative",style:{"font-size":"20px",cursor:"pointer"},onClick:i=>e.remove(t.row)},null,8,["onClick"])])),_:2},1032,["props"])])),_:1},8,["columns","rows","loading"])])),_:1})}var c=i("3203"),n=i("6c02"),l=i("1840"),r=i("3924"),s=i("7b9e"),d=i("b3fe");const u=[{name:"name",label:"Name",field:"name",align:"left"},{name:"code",label:"Code",field:"code",align:"left"},{name:"daysToShow",label:"Days to Show",field:"daysToShow",align:"left"},{name:"icon"}];var b=Object(o["m"])({setup(){const e=Object(n["d"])(),t=Object(d["a"])();let{list:i,items:o}=Object(c["a"])(),{loading:a}=i();const{mutate:b,onError:m,onDone:p}=Object(l["d"])(r["deleteServiceMutation"],(()=>({update:(e,{data:{deleteService:{service:{id:t}}}})=>{let i=e.readQuery({query:r["listServiceQuery"]});i&&(o.value=i.services.filter((e=>e.id!=t)),e.writeQuery({query:r["listServiceQuery"],data:{services:o.value}}))}})));return m((e=>{Object(s["b"])(e)})),p((()=>{Object(s["c"])({message:"The item have been deleted."})})),{items:o,columns:u,loading:a,router:e,deleteService:b,edit(t){const{item:i}=Object(c["a"])();i.value=Object.assign({},t),e.push({name:"EditService",params:{id:t._id}})},remove(e){t.dialog({title:"Confirm",message:"Would you like to delete this item?",cancel:!0,persistent:!0}).onOk((()=>{b({input:{id:e.id}})}))}}}}),m=i("9989"),p=i("db86"),O=i("0016"),j=i("eebe"),v=i.n(j);b.render=a;t["default"]=b;v()(b,"components",{QPage:m["a"],QTd:p["a"],QIcon:O["a"]})}}]);