(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[60],{"79a0":function(t,e,a){"use strict";a.r(e);var n=a("7a23");const o={class:"tw-grid tw-grid-cols-2 tw-gap-4 tw-mb-5 tw-mt-2"},r=Object(n["l"])("div",{class:"text-subtitle1"},"New Transportation",-1),i={class:"tw-flex tw-align-middle tw-justify-end"};function c(t,e,a,c,s,u){const l=Object(n["K"])("BaseButton"),d=Object(n["K"])("FormTransportation"),b=Object(n["K"])("q-page");return Object(n["C"])(),Object(n["h"])(b,{padding:""},{default:Object(n["T"])((()=>[Object(n["l"])("div",o,[r,Object(n["l"])("div",i,[Object(n["l"])(l,{label:"Back To The List",icon:"arrow_back",type:"button",onClick:t.cancel,color:"secondary",size:"sm"},null,8,["onClick"])])]),Object(n["l"])(d,{onSubmit:t.onSubmit,onCancel:t.cancel,loading:t.loading||t.loadingUpdate},null,8,["onSubmit","onCancel","loading"])])),_:1})}var s=a("943a"),u=a("0911"),l=a("1840"),d=a("755c"),b=a("6c02"),p=a("7b9e"),j=a("070e"),O=a("9bc4"),g=Object(n["m"])({setup(){const{items:t,item:e,transportationFormStep:a}=Object(u["a"])();e.value={};const{mutate:n,loading:o,onError:r,onDone:i}=Object(l["d"])(d["createTransportationMutation"],(()=>({update:(t,{data:{createTransportation:{transportation:a}}})=>{const n=Object.assign(Object.assign({},a),e.value);e.value=n;const o=t.readQuery({query:d["getTransportationsQuery"]});t.writeQuery({query:d["getTransportationsQuery"],data:{transportations:[...(null===o||void 0===o?void 0:o.transportations)||[],n]}})}}))),c=Object(b["d"])();i((()=>{e.value.prices=[],e.value.routes=[],a.value=2})),r((t=>{Object(p["b"])(t)}));const{mutate:s,onError:g,onDone:m,loading:v}=Object(l["d"])(d["updateTransportationMutation"],(()=>({update:e=>{const a=e.readQuery({query:d["getTransportationsQuery"]});a&&(t.value=a.transportations)}})));g((t=>{Object(p["b"])(t)})),m((()=>{a.value=2}));const w=()=>{e.value.id?s({input:Object(j["a"])(e.value,["id","name","driver"])}):n({input:Object(O["a"])(e.value,["id"])})};return{loading:o,loadingUpdate:v,cancel(){e.value={},c.push({name:"ListTransportation"})},onSubmit:w}},components:{FormTransportation:s["default"]}}),m=a("9989"),v=a("eebe"),w=a.n(v);g.render=c;e["default"]=g;w()(g,"components",{QPage:m["a"]})}}]);