(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[62],{"199d":function(e,t,l){"use strict";l.r(t);var i=l("7a23");const o={key:0,style:{"min-width":"300px"}},c=Object(i["l"])("div",{class:"tw-grid tw-grid-cols-3 tw-gap-4"},[Object(i["l"])("div",{class:"tw-font-medium"},"Pax. min"),Object(i["l"])("div",{class:"tw-font-medium"},"Pax. max"),Object(i["l"])("div",{class:"tw-font-medium"},"Price")],-1),a={key:0,style:{"min-width":"500px"}},n=Object(i["l"])("div",{class:"tw-grid tw-grid-cols-3 tw-gap-4"},[Object(i["l"])("div",{class:"tw-font-medium"},"From"),Object(i["l"])("div",{class:"tw-font-medium"},"To"),Object(i["l"])("div",{class:"tw-font-medium"},"Km")],-1);function r(e,t,l,r,s,d){const b=Object(i["K"])("q-td"),O=Object(i["K"])("q-icon"),j=Object(i["K"])("BaseTable"),p=Object(i["K"])("q-page");return Object(i["C"])(),Object(i["h"])(p,{padding:""},{default:Object(i["T"])((()=>[Object(i["l"])(j,{title:"Transportations",rows:e.items,columns:e.columns,color:"primary",loading:e.loading,"rows-per-page-options":[0],"hide-pagination":"",createRoute:"CreateTransportation"},{"body-cell-prices":Object(i["T"])((e=>[Object(i["l"])(b,{key:"prices",props:e,class:"tw-text-left"},{default:Object(i["T"])((()=>[e.row.prices.length?(Object(i["C"])(),Object(i["h"])("div",o,[c,(Object(i["C"])(!0),Object(i["h"])(i["a"],null,Object(i["I"])(e.row.prices,(e=>(Object(i["C"])(),Object(i["h"])("div",{key:e.id,class:"tw-grid tw-grid-cols-3 tw-gap-4"},[Object(i["l"])("div",null,Object(i["O"])(e.min),1),Object(i["l"])("div",null,Object(i["O"])(e.max),1),Object(i["l"])("div",null,Object(i["O"])(e.price),1)])))),128))])):Object(i["i"])("",!0)])),_:2},1032,["props"])])),"body-cell-locations":Object(i["T"])((e=>[Object(i["l"])(b,{key:"locations",props:e,class:"tw-text-left"},{default:Object(i["T"])((()=>[e.row.routes.length?(Object(i["C"])(),Object(i["h"])("div",a,[n,(Object(i["C"])(!0),Object(i["h"])(i["a"],null,Object(i["I"])(e.row.routes,(e=>(Object(i["C"])(),Object(i["h"])("div",{key:e.id,class:"tw-grid tw-grid-cols-3 tw-gap-4"},[Object(i["l"])("div",null,Object(i["O"])(e.locationFrom.name),1),Object(i["l"])("div",null,Object(i["O"])(e.locationTo.name),1),Object(i["l"])("div",null,Object(i["O"])(e.kms),1)])))),128))])):Object(i["i"])("",!0)])),_:2},1032,["props"])])),"body-cell-icon":Object(i["T"])((t=>[Object(i["l"])(b,{key:"icon",props:t},{default:Object(i["T"])((()=>[Object(i["l"])(O,{class:"q-mr-sm",name:"edit",color:"teal",style:{"font-size":"20px",cursor:"pointer"},onClick:l=>e.edit(t.row)},null,8,["onClick"]),Object(i["l"])(O,{name:"delete",color:"negative",style:{"font-size":"20px",cursor:"pointer"},onClick:l=>e.remove(t.row)},null,8,["onClick"])])),_:2},1032,["props"])])),_:1},8,["rows","columns","loading"])])),_:1})}var s=l("0911"),d=l("6c02"),b=l("1840"),O=l("755c"),j=l("7b9e"),p=l("b3fe"),u=l("5c8a");const m=[{label:"Name",align:"left",field:"name"},{label:"Driver",align:"left",field:e=>`${e.driver?e.driver.name:""}`},{name:"prices",label:"Prices",align:"left"},{name:"locations",label:"Locations",align:"left"},{name:"icon",label:"",field:"",align:"right"}];var w=Object(i["m"])({setup(){const e=Object(d["d"])(),t=Object(p["a"])();let{list:l,items:i}=Object(s["a"])(),{loading:o,getTransportations:c}=l();c();const{mutate:a,onError:n,onDone:r}=Object(b["d"])(O["deleteTransportationMutation"],(()=>({update:(e,{data:{deleteTransportation:{transportation:{id:t}}}})=>{let l=e.readQuery({query:O["getTransportationsQuery"]});l&&(i.value=l.transportations.filter((e=>e.id!=t)),e.writeQuery({query:O["getTransportationsQuery"],data:{transportations:i.value}}))}})));return n((e=>{Object(j["b"])(e)})),r((()=>{Object(j["c"])({message:"The transportation have been deleted."})})),{items:i,columns:m,loading:o,router:e,deleteTransportation:a,edit(t){const{item:l}=Object(s["a"])();l.value=Object(u["a"])(t),e.push({name:"EditTransportation",params:{id:t._id}})},remove(e){t.dialog({title:"Confirm",message:"Would you like to delete this transportation?",cancel:!0,persistent:!0}).onOk((()=>{a({input:{id:e.id}})}))}}}}),g=l("9989"),v=l("db86"),f=l("0016"),y=l("eebe"),T=l.n(y);w.render=r;t["default"]=w;T()(w,"components",{QPage:g["a"],QTd:v["a"],QIcon:f["a"]})}}]);